use crate::{Section,Token};

grammar;

extern {
    type Location = usize;
    type Error = String;

    enum Token {
        "asteroid_mining" => Token::AsteroidMining,
        "augmentations" => Token::Augmentations,
        "buildings" => Token::Buildings,
        "goods" => Token::Goods,
        "orbital" => Token::Orbital,
        "planet_types" => Token::PlanetTypes,
        "specie_traits" => Token::SpecieTraits,
        "shipyard" => Token::Shipyard,
        "ships" => Token::Ships,
        "stapledon" => Token::Stapledon,
        "stellar_system" => Token::StellarSystem,
        "tech" => Token::Tech,
        "section_contents" => Token::SectionContents(<String>),
    }
    
}

pub Sections:Vec<Section> = {
    section*
}

section:Section = {
    "asteroid_mining" <s:"section_contents"> => Section::AsteroidMining(s),
    "augmentations" <s:"section_contents"> => Section::Augmentations(s),
    "buildings" <s:"section_contents"> => Section::Buildings(s),
    "goods" <s:"section_contents"> => Section::Goods(s),
    "orbital" <s:"section_contents"> => Section::Orbital(s),
    "planet_types" <s:"section_contents"> => Section::PlanetTypes(s),
    "specie_traits" <s:"section_contents"> => Section::SpecieTraits(s),
    "shipyard" <s:"section_contents"> => Section::Shipyard(s),
    "ships" <s:"section_contents"> => Section::Ships(s),
    "stapledon" <s:"section_contents"> => Section::Stapledon(s),
    "stellar_system" <s:"section_contents"> => Section::StellarSystem(s),
    "tech" <s:"section_contents"> => Section::Tech(s),
}
